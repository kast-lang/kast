(library
 (name kast_transpiler_javascript)
 (libraries kast_types kast_interpreter)
 (preprocessor_deps
  (file runtime.js))
 (preprocess
  (pps ppx_include_dir)))

(rule
 (targets runtime.js)
 (deps tsconfig.json runtime.ts)
 (action
  (system "npm exec tsc")))
